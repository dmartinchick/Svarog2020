@import '../mixins';
.cd-modal{
    position: fixed;
    top: 0;
    left: 0;
    z-index: 3;
    height: 100%;
    width: 100%;
    overflow: hidden;
	background: $color-4 url(../../img/other/ink/modal-bg.jpg) no-repeat center center;
	background-size: cover;
	opacity: 0;
    visibility: hidden;
    transform: transition(opacity .3s 0s, visibility 0s .3s);

    .modal-conent{
        height: 100%;
        overflow-y: auto;
        padding: 3em 5%;
        color: $color-5;
        @include font-smoothing;
    }

    .modal-close {
		/* 'X' icon */
		position: absolute;
		z-index: 1;
		top: 20px;
		right: 5%;
		height: 45px;
		width: 45px;
		border-radius: 50%;
		background: rgba(#000, .3) url(../img/cd-icon-close.svg) no-repeat center center;
		
		/* image replacement */
		overflow: hidden;
		text-indent: 100%;
		white-space: nowrap;
		
		visibility: hidden;
		opacity: 0;
		transform:scale(0);
        transition:transform .3s 0s, 
                    visibility 0s .3s, 
                    opacity .3s 0s;

		.no-touch &:hover {
			background-color: rgba(#000, .5);
		}
    }
    &.visible{
        opacity: 1;
        visibility: visible;
        transition: opacity .7s, 
            visibility 0s;
        
        
        .modal-cloe{
            visibility: visible;
            opacity: 1;
            z-index: 5;//сам вставил
            transition: transform 0.3s 0s,
                        visibility 0s 0s,
                        opacity .3s 0s,
                        transform scale(1);
            
            h2{
                color: $bg;//сам вставил
            }
        }
    }
}
.cd-transition-layer{
    position: fixed;
    top: 0;
    left: 0;
    z-index: 2;
    height: 100%;
    width: 100%;
    opacity: 0;
    visibility: hidden;
    overflow: hidden;

    .bg-layer{
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translateY(-50%) translateX(-2%);
        //Спрайт состоит из 25 кадров
        height: 100%;
        width: 100%;
        background: url(../../img/other/ink/ink.png) no-repeat 0 0;
        background-size: 100% 100%;
    }
    &.visible{
        opacity: 1;
        visibility: visible;
    }
    &.opening .bg-layer{
        animation: cd-sequence 0.8s steps(24);
        animation-fill-mode:forwards;
    }
    &.closing .bg-layer{
        animation: cd-sequence-reverse 0.8s steps(24);
        animation-fill-mode:forwards;
    }
    .no-cssanimation & {
        display: none;
    }
}


@keyframes cd-sequence{
    0%{
        transform: translateY(-50%) translateX(-2%);
    }
    100%{
        transform: translateY(-50%) translateX(-98%);
    }
}

@keyframes cd-sequence-reverse{
    0%{
        transform: translateY(-50%) translateX(-98%);
    }
    100%{
        transform: translateY(-50%) translateX(-2%);
    }
}